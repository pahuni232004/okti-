<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Journey - Okti Foundation</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="Logo Header.png" alt="Okti Foundation" class="logo-img">
                </div>
                <button class="burger" aria-label="Toggle navigation">
                    <span class="line"></span>
                    <span class="line"></span>
                    <span class="line"></span>
                </button>
                <nav class="nav">
                    <ul class="nav-list">
                        <li><a href="index.html" class="nav-link">Home</a></li>
                        <li><a href="about.html" class="nav-link">About Us</a></li>
                        <li><a href="journey.html" class="nav-link active">Our Journey</a></li>
                        <li><a href="education.html" class="nav-link">Education & Skill</a></li>
                        <li class="nav-donate"><a href="donate.html#make-donation" class="donate-btn-header">Donate Now</a></li>
                    </ul>
                </nav>
                <a href="donate.html" class="donate-btn-header">Donate Now</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="journey-hero" style="background-image: url('Images/our journey - hero.jpg'); background-size: cover; background-position: center top; background-repeat: no-repeat;">
        <div class="journey-hero-overlay"></div>
        <div class="journey-hero-content">
            <h1 class="journey-hero-title">The Journey So Far</h1>
            <p class="journey-hero-subtitle">Recognition, awards, and milestones that validate our commitment to transforming healthcare in rural India</p>
        </div>
        <div class="event-details">
            <p>Organised by - AOGD, Medicolegal Sub Committee - 8th June, 2024</p>
        </div>
    </section>

    <!-- Awards & Recognition Section -->
    <section class="awards-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Awards & Recognition</h2>
                <p class="section-subtitle">Our commitment to excellence has been recognized by prestigious medical organizations and healthcare institutions across India and internationally.</p>
            </div>
            <div class="awards-grid">
                <div class="award-card">
                    <div class="award-icon-container">
                        <div class="award-icon">
                            <i class="fas fa-medal"></i>
                        </div>
                        <div class="award-year">2020</div>
                    </div>
                    <h3 class="award-title">FOGSI Dr. Duru Shah Community Service Award</h3>
                    <p class="award-organization">Federation of Obstetric & Gynaecological Societies of India</p>
                    <p class="award-description">Recognized for outstanding contribution to community healthcare and women's health initiatives</p>
                </div>
                <div class="award-card">
                    <div class="award-icon-container">
                        <div class="award-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="award-year">2019</div>
                    </div>
                    <h3 class="award-title">Woman of the Year Award â€“ 2019</h3>
                    <p class="award-organization">Delhi Gynaecologist Forum & <a href="https://www.wowindia.info/" target="_blank" class="external-link">Wow India</a></p>
                    <p class="award-description">Our founder was honored for exceptional leadership in women's healthcare and community service</p>
                </div>
                <div class="award-card">
                    <div class="award-icon-container">
                        <div class="award-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="award-year">2018</div>
                    </div>
                    <h3 class="award-title">Compassion Extra Ordinaire</h3>
                    <p class="award-organization">Sh J P Nadda & <a href="https://www.fogsi.org/figo-2/" target="_blank" class="external-link">FOGSI</a></p>
                    <p class="award-description">Special recognition for compassionate healthcare delivery in underserved areas</p>
                </div>
                <div class="award-card">
                    <div class="award-icon-container">
                        <div class="award-icon">
                            <i class="fas fa-comments"></i>
                        </div>
                        <div class="award-year">2018</div>
                    </div>
                    <h3 class="award-title">BMJ South East Asia "Best Surgical Team" Nomination</h3>
                    <p class="award-organization"><a href="https://southasiaawards.bmj.com/about-bmj-awards-2024/#:~:text=The%20event%20will%20take%20place%20on%20Saturday%2029,outcomes%20for%20patients%20and%20communities%20across%20the%20region." target="_blank" class="external-link">British Medical Journal</a></p>
                    <p class="award-description">Nominated for excellence in surgical care and innovative healthcare delivery models</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Additional Felicitations & Appreciations Section -->
    <section class="felicitations-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Additional Felicitations & Appreciations</h2>
            </div>
            <div class="felicitations-grid">
                <div class="felicitation-card">
                    <div class="felicitation-icon-container">
                        <div class="felicitation-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div class="felicitation-year">2021</div>
                    </div>
                    <h3 class="felicitation-title">Felicitation by <a href="https://www.delhimedicalassociation.com/" target="_blank" class="external-link">Delhi Medical Association (DMA)</a></h3>
                    <p class="felicitation-description">Acknowledged for continuous service during the COVID-19 pandemic</p>
                </div>
                <div class="felicitation-card">
                    <div class="felicitation-icon-container">
                        <div class="felicitation-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div class="felicitation-year">2020</div>
                    </div>
                    <h3 class="felicitation-title">Appreciation from <a href="https://www.fogsi.org/figo-2/" target="_blank" class="external-link">FOGSI-FIGO</a></h3>
                    <p class="felicitation-description">International recognition for contributions to global women's health</p>
                </div>
                <div class="felicitation-card">
                    <div class="felicitation-icon-container">
                        <div class="felicitation-icon">
                            <i class="fas fa-bullseye"></i>
                        </div>
                        <div class="felicitation-year">2019</div>
                    </div>
                    <h3 class="felicitation-title">Felicitation by <a href="https://ima-india.org/ima/" target="_blank" class="external-link">Indian Medical Society (IMS)</a></h3>
                    <p class="felicitation-description">Honored for innovative approaches to rural healthcare delivery</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Journey Timeline Section -->
    <section class="timeline-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Our Journey Timeline</h2>
            </div>
            <div class="timeline-container">
                <div class="timeline-bar">
                    <div class="timeline-point" data-year="2009">
                        <div class="timeline-label">2009</div>
                        <div class="timeline-milestone">Foundation Established</div>
                    </div>
                    <div class="timeline-point" data-year="2014">
                        <div class="timeline-label">2014</div>
                        <div class="timeline-milestone">Foundation registered</div>
                    </div>
                    <div class="timeline-point" data-year="2020">
                        <div class="timeline-label">2020</div>
                        <div class="timeline-milestone">International Recognition</div>
                    </div>
                    <div class="timeline-point" data-year="2024">
                        <div class="timeline-label">2024</div>
                        <div class="timeline-milestone">15 Years of Service</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Photo Gallery Section -->
    <section class="photo-gallery-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Photo Gallery</h2>
                <p class="section-subtitle">Capturing moments from our journey - award ceremonies, medical camps, community interactions, and press coverage that document our impact.</p>
            </div>
            <div class="gallery-container">
                <button class="gallery-btn prev-btn" onclick="moveGallerySlider(-1)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="gallery-slider">
                    <div class="gallery-track" id="galleryTrack">
                        <!-- Slide 1 -->
                        <div class="gallery-slide">
                            <div class="gallery-item">
                                <img src="Image Gallery/0d4383e0b83b0e94cec220ab40e788353d5830d1.jpg" alt="Gallery Image 1">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/1af12f357c9c8849029a2def95e0b9d0a8557029.jpg" alt="Gallery Image 2">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/237ba253bc40ac4c3a903a800f17415b31b42339.jpg" alt="Gallery Image 3">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/44d1586808c6ebb2453dba37116d6a9bba879543.jpg" alt="Gallery Image 4">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/4ec7af50575913528587201a7c1a6eb3ac491fed (1).jpg" alt="Gallery Image 5">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/55f0df8471ce0f0b1c57c41f75959eeb3f81c33c.jpg" alt="Gallery Image 6">
                            </div>
                        </div>
                        <!-- Slide 2 -->
                        <div class="gallery-slide">
                            <div class="gallery-item">
                                <img src="Image Gallery/61347fa2455b7f5e946b629cb216c6b404d51a7d.jpg" alt="Gallery Image 7">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/68a4b5823ff23e7c78d3ea73d91eca8dc95cd418.png" alt="Gallery Image 8">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/6c7f162ecbec8294664c11b6f9825aca27dcfd43.jpg" alt="Gallery Image 9">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/7a5acd017a398ab4b8a2a361602496a779edb342.jpg" alt="Gallery Image 10">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/89e93cbdb3ab82a56e7003a3ae548f8a2b2e7eaf.jpg" alt="Gallery Image 11">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/9a25ae0b276ac872d0873c21c53351e10a690f8e.jpg" alt="Gallery Image 12">
                            </div>
                        </div>
                        <!-- Slide 3 -->
                        <div class="gallery-slide">
                            <div class="gallery-item">
                                <img src="Image Gallery/9cbda88831a2d711719b52ec1b2ca03d03d2e16c.jpg" alt="Gallery Image 13">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/9d35d578d3b3ae75f03f36eb81cccec50e9550d7.jpg" alt="Gallery Image 14">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/9ed2527b32212882c2f77602e2c9063b02ae3403.jpg" alt="Gallery Image 15">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/a0745a6ae6892d954672664fd431652d9ecf3572.jpg" alt="Gallery Image 16">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/a2543ba1025fbcecac7b9be7ee9d7994b0db7cbc.jpg" alt="Gallery Image 17">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/a2ecff69991fd193aade7d8f465601d9b3941cb3.jpg" alt="Gallery Image 18">
                            </div>
                        </div>
                        <!-- Slide 4 -->
                        <div class="gallery-slide">
                            <div class="gallery-item">
                                <img src="Image Gallery/a40b7724cd47d538b10e7f978a63c91b90e7a774.jpg" alt="Gallery Image 19">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/aa09ea99141b62ca0ff1df7a34fadcc64d85a07e.jpg" alt="Gallery Image 20">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/c464b64e07f6a25e3e38e8b4b26cc22fbf16eabc.jpg" alt="Gallery Image 21">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/c73d6d64b1cf308e04cb78dc0f46dc6545464dfa.jpg" alt="Gallery Image 22">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/cab7ff9197722bdf1ed569c2fdcc5e1467925d7a.jpg" alt="Gallery Image 23">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/d91a7a5252b9c06018257cc73ad433e4bc51518f.jpg" alt="Gallery Image 24">
                            </div>
                        </div>
                        <!-- Slide 5 -->
                        <div class="gallery-slide">
                            <div class="gallery-item">
                                <img src="Image Gallery/dbaf9c6ad578d546658bf4f53c107f9444fdec99.jpg" alt="Gallery Image 25">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/e36510ad2205a27fa06dc1445954eeccd834e524.jpg" alt="Gallery Image 26">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/e7578e66d3375d2ae89db642a4e8934c6bee90ef.jpg" alt="Gallery Image 27">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/ecf3ce72f7d52404a0c9c1aed6ae8b74c48c9df8.jpg" alt="Gallery Image 28">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/ed109c7df59be9f8627dd8366338c0e46d5ef036.jpg" alt="Gallery Image 29">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/f4ad3b59a5d6b732877a32aec9144ca30eb635df.jpg" alt="Gallery Image 30">
                            </div>
                        </div>
                        <!-- Slide 6 -->
                        <div class="gallery-slide">
                            <div class="gallery-item">
                                <img src="Image Gallery/f568a668537adbbfcdff8aee45d97ce011525561.jpg" alt="Gallery Image 31">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/fbabcfd6a082cd03898d6ce2ebe2154d7da2a511.jpg" alt="Gallery Image 32">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/0d4383e0b83b0e94cec220ab40e788353d5830d1.jpg" alt="Gallery Image 33">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/1af12f357c9c8849029a2def95e0b9d0a8557029.jpg" alt="Gallery Image 34">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/237ba253bc40ac4c3a903a800f17415b31b42339.jpg" alt="Gallery Image 35">
                            </div>
                            <div class="gallery-item">
                                <img src="Image Gallery/44d1586808c6ebb2453dba37116d6a9bba879543.jpg" alt="Gallery Image 36">
                            </div>
                        </div>
                    </div>
                </div>
                <button class="gallery-btn next-btn" onclick="moveGallerySlider(1)">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- In the News Section -->
    <section class="news-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">In the News</h2>
            </div>
            <div class="news-card">
                <div class="news-icon">
                    <i class="fas fa-newspaper"></i>
                </div>
                <div class="news-content">
                    <h3 class="news-title">Cancer Camp for Women at Tihar</h3>
                    <p class="news-source">The Times of India</p>
                    <p class="news-description">A cervical cancer awareness and screening camp was organised inside the women's prison at the Tihar Jail Complex on 9 April, 2021.</p>
                    <p class="news-link"><a href="https://timesofindia.indiatimes.com/city/delhi/cancer-camp-for-women-at-tihar/articleshow/81976515.cms" target="_blank" class="external-link">Read Full Article</a></p>
                </div>
            </div>
        </div>
    </section>

    <!-- Be Part of Our Journey Section -->
    <section class="journey-cta">
        <div class="container">
            <div class="cta-content">
                <h2 class="cta-title">Be Part of Our Journey</h2>
                <p class="cta-subtitle">Join us in creating more success stories and transforming lives through accessible healthcare. Your support makes our mission possible.</p>
                <a href="donate.html" class="cta-btn">Support Our Mission</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <div class="footer-logo">
                        <img src="Logo Footer.png" alt="Okti Foundation" class="footer-logo-img">
                    </div>
                    <p class="footer-mission">Reaching the unreached with equitable healthcare, empowering women, and building community health models since 2009.</p>
                    <div class="social-icons">
                        <a href="https://www.linkedin.com/posts/okti-foundation_gynaecologists-delhi-conference-activity-7371173613552455680-4GA4?utm_source=share&utm_medium=member_android&rcm=ACoAAEkDxGwBCnIq77D7Iy4ZdTLKcZQa1LRGu4c" target="_blank" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-column">
                    <h3 class="footer-title">Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="journey.html">Our Journey</a></li>
                        <li><a href="education.html">Education & Skills</a></li>
                        <li><a href="donate.html">Donate</a></li>
                        <li><a href="Anual Reports">Annual Reports</a></li>
                        <li><a href="policy.html">Privacy Policy</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3 class="footer-title">Contact Us</h3>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>6B/7 Raj Narayan Marg, Civil Lines, Delhi - 110054</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>drsonalbathla11@gmail.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>oktifoundationhq@gmail.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>+91 9811444563</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="copyright">Â© 2024 Okti Foundation. All rights reserved. | Registered Non-Profit Organization (12A & 80G)</p>
            </div>
        </div>
    </footer>

    <script>
        // Gallery slider functionality
        let galleryCurrentSlide = 0;
        const galleryTrack = document.getElementById('galleryTrack');
        let totalSlides = 0; // will be computed dynamically

        function moveGallerySlider(direction) {
            galleryCurrentSlide += direction;
            if (totalSlides <= 0) return;
            if (galleryCurrentSlide >= totalSlides) galleryCurrentSlide = 0;
            if (galleryCurrentSlide < 0) galleryCurrentSlide = totalSlides - 1;
            
            // Calculate the width of one slide (100% / 6)
            const slideWidth = 100 / totalSlides;
            const translateX = galleryCurrentSlide * slideWidth;
            galleryTrack.style.transform = `translateX(-${translateX}%)`;
        }

        function recomputeSlides() {
            const slides = galleryTrack ? galleryTrack.querySelectorAll('.gallery-slide') : [];
            totalSlides = slides.length;
            if (!galleryTrack) return;
            if (totalSlides <= 0) return;
            // Set dynamic widths to avoid gaps
            galleryTrack.style.width = `calc(100% * ${totalSlides})`;
            slides.forEach(function(slide) {
                slide.style.width = `calc(100% / ${totalSlides})`;
            });
            // Clamp current index and reset position
            if (galleryCurrentSlide >= totalSlides) galleryCurrentSlide = 0;
            galleryTrack.style.transform = 'translateX(0%)';
        }

        function rebuildGalleryFromValidImages() {
            if (!galleryTrack) return;
            // Collect all successfully loaded unique sources
            const allImgs = Array.from(document.querySelectorAll('.gallery-item img'));
            const validSrcs = [];
            const seen = new Set();
            allImgs.forEach(function(img) {
                if (img.complete && img.naturalWidth > 0) {
                    const src = img.getAttribute('src');
                    if (src && !seen.has(src)) {
                        seen.add(src);
                        validSrcs.push(src);
                    }
                }
            });
            // Build slides with exactly 6 items per slide; drop incomplete last slide
            const itemsPerSlide = 6;
            const totalFullSlides = Math.floor(validSrcs.length / itemsPerSlide);
            const wrapper = document.createElement('div');
            for (let s = 0; s < totalFullSlides; s += 1) {
                const slide = document.createElement('div');
                slide.className = 'gallery-slide';
                for (let i = 0; i < itemsPerSlide; i += 1) {
                    const idx = s * itemsPerSlide + i;
                    const item = document.createElement('div');
                    item.className = 'gallery-item';
                    const img = document.createElement('img');
                    img.src = validSrcs[idx];
                    img.alt = `Gallery Image ${idx + 1}`;
                    item.appendChild(img);
                    slide.appendChild(item);
                }
                wrapper.appendChild(slide);
            }
            // Replace track content
            galleryTrack.innerHTML = wrapper.innerHTML;
            // Recompute layout
            recomputeSlides();
        }

        // Initialize gallery
        document.addEventListener('DOMContentLoaded', function() {
            recomputeSlides();
        });
    </script>

    <script>
        // Hide any gallery tile if its image fails to load (prevents empty placeholders)
        document.addEventListener('DOMContentLoaded', function() {
            const galleryImages = document.querySelectorAll('.gallery-item img');
            // Known-good fallback images to fill any gaps (no duplicates)
            const fallbackImages = [
                'Image Gallery/0d4383e0b83b0e94cec220ab40e788353d5830d1.jpg',
                'Image Gallery/1af12f357c9c8849029a2def95e0b9d0a8557029.jpg',
                'Image Gallery/237ba253bc40ac4c3a903a800f17415b31b42339.jpg',
                'Image Gallery/44d1586808c6ebb2453dba37116d6a9bba879543.jpg',
                'Image Gallery/55f0df8471ce0f0b1c57c41f75959eeb3f81c33c.jpg',
                'Image Gallery/68a4b5823ff23e7c78d3ea73d91eca8dc95cd418.png',
                'Image Gallery/7a5acd017a398ab4b8a2a361602496a779edb342.jpg',
                'Image Gallery/89e93cbdb3ab82a56e7003a3ae548f8a2b2e7eaf.jpg',
                'Image Gallery/9a25ae0b276ac872d0873c21c53351e10a690f8e.jpg',
                'Image Gallery/9d35d578d3b3ae75f03f36eb81cccec50e9550d7.jpg',
                'Image Gallery/9ed2527b32212882c2f77602e2c9063b02ae3403.jpg',
                'Image Gallery/a0745a6ae6892d954672664fd431652d9ecf3572.jpg',
                'Image Gallery/a2543ba1025fbcecac7b9be7ee9d7994b0db7cbc.jpg',
                'Image Gallery/a2ecff69991fd193aade7d8f465601d9b3941cb3.jpg',
                'Image Gallery/a40b7724cd47d538b10e7f978a63c91b90e7a774.jpg',
                'Image Gallery/aa09ea99141b62ca0ff1df7a34fadcc64d85a07e.jpg',
                'Image Gallery/c464b64e07f6a25e3e38e8b4b26cc22fbf16eabc.jpg',
                'Image Gallery/c73d6d64b1cf308e04cb78dc0f46dc6545464dfa.jpg',
                'Image Gallery/cab7ff9197722bdf1ed569c2fdcc5e1467925d7a.jpg',
                'Image Gallery/d91a7a5252b9c06018257cc73ad433e4bc51518f.jpg',
                'Image Gallery/dbaf9c6ad578d546658bf4f53c107f9444fdec99.jpg',
                'Image Gallery/e36510ad2205a27fa06dc1445954eeccd834e524.jpg',
                'Image Gallery/e7578e66d3375d2ae89db642a4e8934c6bee90ef.jpg',
                'Image Gallery/ecf3ce72f7d52404a0c9c1aed6ae8b74c48c9df8.jpg',
                'Image Gallery/ed109c7df59be9f8627dd8366338c0e46d5ef036.jpg',
                'Image Gallery/f568a668537adbbfcdff8aee45d97ce011525561.jpg',
                'Image Gallery/fbabcfd6a082cd03898d6ce2ebe2154d7da2a511.jpg'
            ];

            // Track which sources are already in use to prevent duplicates
            const usedSources = new Set();
            // Pre-mark already loaded images as used
            galleryImages.forEach(function(img) {
                if (img.complete && img.naturalWidth > 0) {
                    usedSources.add(img.getAttribute('src'));
                }
                img.addEventListener('load', function() {
                    usedSources.add(img.getAttribute('src'));
                });
            });

            function replaceWithFallback(targetImg) {
                const tried = new Set();
                function tryNext() {
                    if (tried.size >= fallbackImages.length) {
                        // No more images to try; hide tile
                        const tile = targetImg.closest('.gallery-item');
                        if (tile) tile.style.display = 'none';
                        return;
                    }
                    // pick next not-yet-used fallback
                    let src;
                    for (let i = 0; i < fallbackImages.length; i += 1) {
                        const candidate = fallbackImages[i];
                        if (!usedSources.has(candidate) && !tried.has(candidate)) {
                            src = candidate;
                            break;
                        }
                    }
                    if (!src) {
                        // all candidates used; hide tile
                        const tile = targetImg.closest('.gallery-item');
                        if (tile) tile.style.display = 'none';
                        return;
                    }
                    tried.add(src);
                    const testImg = new Image();
                    testImg.onload = function() {
                        targetImg.src = src;
                        usedSources.add(src);
                        // ensure tile is visible in case previously hidden
                        const tile = targetImg.closest('.gallery-item');
                        if (tile) tile.style.display = '';
                    };
                    testImg.onerror = tryNext;
                    testImg.src = src;
                }
                tryNext();
            }

            galleryImages.forEach(function(img) {
                const tile = img.closest('.gallery-item');
                if (tile) tile.style.display = 'none'; // keep hidden until verified loaded

                function showTile() {
                    if (tile) tile.style.display = '';
                }

                function handleBroken() {
                    // Try to fill with a unique fallback first
                    replaceWithFallback(img);
                }

                // If already loaded successfully
                if (img.complete && img.naturalWidth > 0) {
                    showTile();
                } else if (img.complete && img.naturalWidth === 0) {
                    handleBroken();
                } else {
                    // attach listeners
                    img.addEventListener('load', showTile, { once: true });
                    img.addEventListener('error', handleBroken, { once: true });
                    // safety timeout: if not loaded in time, consider it broken
                    setTimeout(function() {
                        if (!(img.complete && img.naturalWidth > 0)) {
                            handleBroken();
                        }
                    }, 1500);
                }
            });

            // After attempting replacements, remove any slide that ends up with empty tiles
            // and recompute layout to avoid gaps
            setTimeout(function() {
                const slides = Array.from(document.querySelectorAll('.gallery-slide'));
                slides.forEach(function(slide) {
                    const items = Array.from(slide.querySelectorAll('.gallery-item'));
                    // Remove any items that remain hidden or broken
                    items.forEach(function(item) {
                        const img = item.querySelector('img');
                        const isGood = img && img.complete && img.naturalWidth > 0;
                        if (!isGood || item.style.display === 'none') {
                            item.remove();
                        }
                    });
                    const remaining = slide.querySelectorAll('.gallery-item').length;
                    if (remaining === 0) {
                        slide.remove();
                    }
                });
                // Finally, rebuild the gallery densely from valid images to eliminate any middle gaps
                rebuildGalleryFromValidImages();
            }, 800);
        });
    </script>

    <script>
        // Mobile navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const burger = document.querySelector('.burger');
            const nav = document.querySelector('.nav');
            const body = document.body;
            
            if (burger && nav) {
                burger.addEventListener('click', function() {
                    nav.classList.toggle('open');
                    burger.classList.toggle('active');
                    body.classList.toggle('nav-open');
                });
                
                // Close nav when clicking on links
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        nav.classList.remove('open');
                        burger.classList.remove('active');
                        body.classList.remove('nav-open');
                    });
                });
                
                // Close nav when clicking outside
                document.addEventListener('click', function(e) {
                    if (!nav.contains(e.target) && !burger.contains(e.target)) {
                        nav.classList.remove('open');
                        burger.classList.remove('active');
                        body.classList.remove('nav-open');
                    }
                });
            }
        });
    </script>
</body>
</html>